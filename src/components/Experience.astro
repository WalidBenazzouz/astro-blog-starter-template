---
// Experience & Education Component - Vertical timeline

const experiences = [
  {
    type: "work",
    title: "AI Engineer Intern",
    organization: "Royal Air Maroc",
    location: "Morocco",
    period: "Jul - Sep 2025",
    description: "Development of an AI chatbot for customer assistance. Implementation of RAG infrastructure and secure Admin panel."
  },
  {
    type: "work",
    title: "IT Security Intern",
    organization: "T-MAN Holding",
    location: "Morocco",
    period: "Jul 2024",
    description: "IT security audit on infrastructure. Implementation of firewall, backup system and access hardening."
  }
];

const education = [
  {
    type: "education",
    title: "Master's in Applied AI (MIAGE IA2)",
    organization: "Université Côte d'Azur",
    location: "France",
    period: "Oct 2025 - Jul 2026",
    description: "Specialization in Applied Artificial Intelligence."
  },
  {
    type: "education",
    title: "Engineering Degree in Computer Science",
    organization: "EMSI",
    location: "Morocco",
    period: "Oct 2022 - Jul 2025",
    description: "Computer Science and Networks. Preparatory classes 2021-2023."
  },
  {
    type: "education",
    title: "Scientific Baccalaureate (BIOF)",
    organization: "Lycée Yassamine International",
    location: "Morocco",
    period: "Sep 2020 - Jul 2021",
    description: "French international option."
  }
];
---

<section class="experience" id="experience">
  <div class="container">
    <div class="experience-grid">
      <!-- Work Experience -->
      <div class="timeline-section">
        <div class="section-label reveal">Experience</div>
        <h2 class="section-heading reveal">Professional</h2>
        
        <div class="timeline">
          {experiences.map((item, index) => (
            <div class={`timeline-item reveal-stagger stagger-${index + 1}`}>
              <div class="timeline-marker">
                <div class="marker-dot"></div>
                <div class="marker-line"></div>
              </div>
              <div class="timeline-content">
                <span class="timeline-period">{item.period}</span>
                <h3 class="timeline-title">{item.title}</h3>
                <div class="timeline-org">
                  <span class="org-name">{item.organization}</span>
                  <span class="org-location">— {item.location}</span>
                </div>
                <p class="timeline-description">{item.description}</p>
              </div>
            </div>
          ))}
        </div>
      </div>

      <!-- Education -->
      <div class="timeline-section">
        <div class="section-label reveal">Education</div>
        <h2 class="section-heading reveal">Academic</h2>
        
        <div class="timeline">
          {education.map((item, index) => (
            <div class={`timeline-item reveal-stagger stagger-${index + 1}`}>
              <div class="timeline-marker">
                <div class="marker-dot"></div>
                <div class="marker-line"></div>
              </div>
              <div class="timeline-content">
                <span class="timeline-period">{item.period}</span>
                <h3 class="timeline-title">{item.title}</h3>
                <div class="timeline-org">
                  <span class="org-name">{item.organization}</span>
                  <span class="org-location">— {item.location}</span>
                </div>
                <p class="timeline-description">{item.description}</p>
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .experience {
    background: var(--color-bg);
    border-top: 1px solid var(--color-border);
  }

  .experience-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
    gap: var(--space-2xl);
  }

  .section-heading {
    font-size: clamp(1.5rem, 4vw, 2.5rem);
    margin-bottom: var(--space-xl);
  }

  .timeline {
    position: relative;
  }

  .timeline-item {
    display: flex;
    gap: var(--space-lg);
    padding-bottom: var(--space-xl);
  }

  .timeline-item:last-child {
    padding-bottom: 0;
  }

  .timeline-item:last-child .marker-line {
    display: none;
  }

  .timeline-marker {
    display: flex;
    flex-direction: column;
    align-items: center;
    flex-shrink: 0;
  }

  .marker-dot {
    width: 12px;
    height: 12px;
    background: var(--color-bg);
    border: 2px solid var(--color-accent);
    transition: background var(--duration-fast) var(--ease-out-quart);
  }

  .timeline-item:hover .marker-dot {
    background: var(--color-accent);
  }

  .marker-line {
    width: 1px;
    flex: 1;
    background: var(--color-border);
    margin-top: var(--space-sm);
  }

  .timeline-content {
    flex: 1;
    padding-top: -2px;
  }

  .timeline-period {
    font-family: var(--font-mono);
    font-size: 0.75rem;
    color: var(--color-accent);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    display: block;
    margin-bottom: var(--space-sm);
  }

  .timeline-title {
    font-size: 1.125rem;
    margin-bottom: var(--space-xs);
  }

  .timeline-org {
    margin-bottom: var(--space-sm);
  }

  .org-name {
    font-weight: 500;
    color: var(--color-text-secondary);
  }

  .org-location {
    color: var(--color-text-muted);
    font-size: 0.875rem;
  }

  .timeline-description {
    font-size: 0.875rem;
    color: var(--color-text-muted);
    line-height: 1.6;
  }

  @media (max-width: 768px) {
    .experience-grid {
      grid-template-columns: 1fr;
    }
  }
</style>
